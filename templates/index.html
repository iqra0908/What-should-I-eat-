<!DOCTYPE html>
<html>
<head>
	<title>My Recipe Book</title>
	<style>
		table {
			border-collapse: collapse;
			width: 100%;
			margin-top: 20px;
		}
		th, td {
			padding: 8px;
			text-align: left;
			border-bottom: 1px solid #ddd;
		}
		th {
			background-color: #f2f2f2;
		}
		img {
			max-width: 100%;
			height: auto;
		}
	</style>
</head>
<body>
	<h1>My Recipe Book</h1>

	<table>
		<thead>
			<tr>
				<th>Recipe</th>
				<th>Minutes</th>
				<th>Ingredients</th>
				<th>Steps</th>
				<th>Image</th>
			</tr>
		</thead>
		<tbody id="recipe-table-body"></tbody>
	</table>

	<script>
		fetch('/recipes')
			.then(response => response.json())
			.then(data => {
				const recipeTableBody = document.getElementById('recipe-table-body');

				data.forEach(recipe => {
					const row = document.createElement('tr');
					const nameCell = document.createElement('td');
					const minutesCell = document.createElement('td');
					const ingredientsCell = document.createElement('td');
					const stepsCell = document.createElement('td');
					const imageCell = document.createElement('td');
					const image = document.createElement('img');

					nameCell.textContent = recipe.name;
					minutesCell.textContent = recipe.minutes;
					ingredientsCell.textContent = recipe.ingredients.join(', ');
					stepsCell.textContent = recipe.steps.join('\n');
					image.src = recipe.image_url;
					image.alt = recipe.name;

					imageCell.appendChild(image);

					row.appendChild(nameCell);
					row.appendChild(minutesCell);
					row.appendChild(ingredientsCell);
					row.appendChild(stepsCell);
					row.appendChild(imageCell);

					recipeTableBody.appendChild(row);
				});
			});
	</script>
</body>
</html>
